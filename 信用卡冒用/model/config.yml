app_config:
    # Overview
    package_name: "model-training"
    
    # Training data
    training_data: "/data/training.csv"

    # pipeline_save_file: "logistic_regression_output_v"
    # pipeline_save_file: "random_forest_output_v"
    pipeline_save_file: "lightbgm_output_v"
    # pipeline_save_file: "lightbgm_output_v"

    predict_path: "/data/public_processed.csv"
    
log_config:
    target: "label"

    used_model: 'lightbgm'
    
    samples_to_train_ratio: 1

    # not used features
    to_drop: 
        -
    #     - "flam1"
    #     - "txkey"
    #     - "chid"
    #     - "cano"
    #     - "mchno"
    #     - "acqic"
        
    object_features:
        - "txkey"
        - "chid"
        - "cano"
        - "mchno"
        - "acqic"
    
    numeric_features:
        - "locdt"
        - "loctm"
        - "conam"
        - "iterm"
        - "csmam"
        - "flam1"

    categorical_features:
        - "etymd"
        - "mcc"
        - "ecfg"
        - "scity"
        - "ovrlt"
        - "csmcu"
        - "txkey"
        - "chid"
        - "cano"
        - "mchno"
        - "acqic"
        - "contp"
        - "bnsfg"
        - "stocn"
        - "stscd"
        - "flbmk"
        - "hcefg"
        - "flg_3dsmk"
 
    
    # For train test split
    random_state: 42
    test_size: 0.1

    vars_with_na:
        - "etymd"
        - "mcc"
        - "scity"
        - "csmcu"
        - "stocn"
        - "stscd"
        - "hcefg"

    time_transform: "loctm"

    use_sampling: True
    
    # smote hyperparameters
    smote:
        sampling_strategy: 1
        k_neighbors: 4
        

    # logistic hyperparameters
    logistic:
        max_iter: 5000
        solver: "saga"
        n_jobs: -1

    # random forest hyperparameters
    random_forest:
        n_estimators: 250
        bootstrap: True
        random_state: 42
        class_weight: 
            0: 1
            1: 1
        n_jobs: -1
    xgb:
        objective: "binary:logistic"
        random_state: 42
        scale_pos_weight: 1
        learning_rate: 0.1
        device: "cuda"
    lgb:
        objective: 'binary'
        random_state: 42
        device: "cpu"
        n_estimators: 500
        n_jobs: -1

    
cv_config:
    stratifiedkfold:
        n_splits: 5
        shuffle: True
        random_state: 42
    random_forest:
        random_forest__criterion: 
            - 'gini'
            - 'entropy'
            - 'log_loss'
        random_forest__n_estimators: 
            - 200
            - 250
        random_forest__max_depth: 
            - 
            - 10 
            - 20
        random_forest__max_features:
            - 'sqrt'
            - 'log2'
        
    
mlflow_config:
    experiment_name: 'random forest'

    experiment_tags:
        project_name: 'detect credit card fraud'
        mlflow.note/content: 'This is the experiment for random forest'

    artifact_path: 'random forest'
        
        
    

